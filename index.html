<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Spotify Clone</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Icon Library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg-black: #000000;
            --bg-dark: #121212;
            --bg-light: #242424;
            --bg-hover: #2a2a2a;
            --primary: #1db954;
            --text-main: #ffffff;
            --text-sub: #b3b3b3;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-black);
            color: var(--text-main);
            height: 100vh;
            display: grid;
            grid-template-rows: 1fr 90px; /* Konten Utama & Player Bar */
            overflow: hidden;
        }

        /* --- LAYOUT UTAMA --- */
        .main-container {
            display: grid;
            grid-template-columns: 240px 1fr; /* Sidebar & Konten */
            height: 100%;
            overflow: hidden;
            padding: 8px;
            gap: 8px;
        }

        /* --- SIDEBAR (PLAYLIST) --- */
        .sidebar {
            background-color: var(--bg-dark);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .logo i { font-size: 2rem; color: var(--primary); }

        .playlist-header {
            color: var(--text-sub);
            font-size: 0.8rem;
            letter-spacing: 1px;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .playlist-items {
            overflow-y: auto;
            flex: 1;
        }

        .playlist-items::-webkit-scrollbar { width: 8px; }
        .playlist-items::-webkit-scrollbar-thumb { background: #555; border-radius: 4px; }

        .song-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
            margin-bottom: 5px;
        }

        .song-item:hover { background-color: var(--bg-hover); }
        .song-item.active { background-color: var(--bg-light); }
        .song-item.active .song-title { color: var(--primary); }

        .song-index { width: 30px; color: var(--text-sub); font-size: 0.9rem; }
        .song-info-flex { flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .song-title { font-weight: 600; font-size: 0.95rem; }
        .song-artist { font-size: 0.8rem; color: var(--text-sub); }

        /* --- KONTEN KANAN (VISUAL) --- */
        .content-area {
            background: linear-gradient(180deg, #222 0%, var(--bg-dark) 100%);
            border-radius: 8px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .album-art-large {
            width: 200px;
            height: 200px;
            background: #333;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            margin-bottom: 20px;
            position: relative;
        }
        
        .album-art-large img {
            width: 100%; height: 100%; object-fit: cover;
            animation: rotateArt 20s linear infinite;
            animation-play-state: paused;
        }

        .album-art-large.playing img {
            animation-play-state: running;
        }

        @keyframes rotateArt { 100% { transform: rotate(360deg); } }

        /* --- PLAYER BAR (BAWAH) --- */
        .player-bar {
            background-color: #181818;
            border-top: 1px solid #282828;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            z-index: 100;
        }

        /* Kiri Player: Info Lagu */
        .now-playing-info {
            display: flex;
            align-items: center;
            width: 30%;
        }
        .cover-small { width: 56px; height: 56px; background: #333; margin-right: 15px; }
        .cover-small img { width: 100%; height: 100%; object-fit: cover; }
        .np-text h4 { font-size: 0.9rem; margin-bottom: 3px; }
        .np-text p { font-size: 0.7rem; color: var(--text-sub); }
        .like-icon { margin-left: 20px; color: var(--text-sub); cursor: pointer; }

        /* Tengah Player: Kontrol */
        .player-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 40%;
        }
        .control-buttons { display: flex; align-items: center; gap: 20px; margin-bottom: 8px; }
        .control-btn { background: none; border: none; color: var(--text-sub); cursor: pointer; font-size: 1rem; transition: 0.2s; }
        .control-btn:hover { color: white; }
        .play-pause-btn {
            background: white; color: black; width: 32px; height: 32px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 1rem; transition: transform 0.2s;
        }
        .play-pause-btn:hover { transform: scale(1.1); }

        .progress-container { width: 100%; display: flex; align-items: center; gap: 10px; font-size: 0.7rem; color: var(--text-sub); }
        .progress-bar { flex: 1; height: 4px; background: #535353; border-radius: 2px; position: relative; cursor: pointer; }
        .progress-fill { height: 100%; background: var(--text-sub); width: 0%; border-radius: 2px; }

        /* Kanan Player: Volume */
        .volume-controls { width: 30%; display: flex; justify-content: flex-end; align-items: center; gap: 10px; }
        .vol-bar { width: 100px; height: 4px; background: #535353; border-radius: 2px; }
        .vol-fill { width: 70%; height: 100%; background: var(--text-sub); border-radius: 2px; }

        /* Responsive Mobile */
        @media (max-width: 768px) {
            .sidebar { display: none; } /* Di mobile, sidebar ilang, tinggal player */
            .main-container { grid-template-columns: 1fr; }
            .content-area { display: none; } /* Sederhanakan buat mobile */
            .player-bar { padding: 0 10px; }
            .volume-controls { display: none; }
            .now-playing-info { width: 60%; }
            .player-controls { width: 40%; }
            .progress-container { display: none; } /* Hide progress bar di mobile biar muat */
        }

    </style>
</head>
<body>

    <div class="main-container">
        
        <!-- SIDEBAR PLAYLIST -->
        <div class="sidebar">
            <div class="logo">
                <i class="fab fa-spotify"></i> SpotifyClone
            </div>
            <div class="playlist-header">My Playlist</div>
            <div class="playlist-items" id="playlist-container">
                <!-- Lagu akan di-render lewat Javascript -->
            </div>
        </div>

        <!-- KONTEN UTAMA (VISUAL) -->
        <div class="content-area">
            <div class="album-art-large" id="big-art">
                <img src="https://picsum.photos/seed/music/300/300" alt="Album Art">
            </div>
            <h2 style="margin-bottom: 10px;">Now Playing</h2>
            <p style="color: #b3b3b3;" id="big-artist">Select a song</p>
        </div>

    </div>

    <!-- PLAYER BAR (BAWAH) -->
    <div class="player-bar">
        
        <!-- Info Lagu Kiri -->
        <div class="now-playing-info">
            <div class="cover-small">
                <img id="np-img" src="https://picsum.photos/seed/music/100/100" alt="">
            </div>
            <div class="np-text">
                <h4 id="np-title">...</h4>
                <p id="np-artist">...</p>
            </div>
            <i class="far fa-heart like-icon"></i>
        </div>

        <!-- Kontrol Tengah -->
        <div class="player-controls">
            <div class="control-buttons">
                <button class="control-btn"><i class="fas fa-random"></i></button>
                <button class="control-btn" onclick="prevTrack()"><i class="fas fa-step-backward"></i></button>
                <button class="play-pause-btn" onclick="togglePlay()" id="main-play-btn">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-btn" onclick="nextTrack()"><i class="fas fa-step-forward"></i></button>
                <button class="control-btn"><i class="fas fa-redo"></i></button>
            </div>
            <div class="progress-container">
                <span id="curr-time">0:00</span>
                <div class="progress-bar" id="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span id="dur-time">0:00</span>
            </div>
        </div>

        <!-- Volume Kanan -->
        <div class="volume-controls">
            <i class="fas fa-volume-up" style="color:#b3b3b3"></i>
            <div class="vol-bar"><div class="vol-fill"></div></div>
        </div>

    </div>

    <!-- AUDIO ELEMENT (HIDDEN) -->
    <audio id="audio-player"></audio>

    <script>
        // --- DATA LAGU ---
        const playlist = [
            { title: "Midnight City", artist: "M83", file: "welcome-robot.mp3", img: "https://picsum.photos/seed/m83/300/300" },
            { title: "Blinding Lights", artist: "The Weeknd", file: "welcome-robot.mp3", img: "https://picsum.photos/seed/weeknd/300/300" },
            { title: "Levitating", artist: "Dua Lipa", file: "welcome-robot.mp3", img: "https://picsum.photos/seed/dua/300/300" },
            { title: "Stay", artist: "Kid LAROI", file: "welcome-robot.mp3", img: "https://picsum.photos/seed/stay/300/300" },
            { title: "Heat Waves", artist: "Glass Animals", file: "welcome-robot.mp3", img: "https://picsum.photos/seed/heat/300/300" },
        ];

        // --- VARIABLES ---
        let currentTrackIndex = 0;
        const audio = document.getElementById('audio-player');
        const playBtn = document.getElementById('main-play-btn');
        const progressFill = document.getElementById('progress-fill');
        const currTimeEl = document.getElementById('curr-time');
        const durTimeEl = document.getElementById('dur-time');
        const progressBar = document.getElementById('progress-bar');
        const bigArt = document.getElementById('big-art');
        
        // --- INIT RENDER ---
        function renderPlaylist() {
            const container = document.getElementById('playlist-container');
            container.innerHTML = '';
            
            playlist.forEach((song, index) => {
                const div = document.createElement('div');
                div.className = `song-item ${index === currentTrackIndex ? 'active' : ''}`;
                div.onclick = () => loadSong(index);
                
                div.innerHTML = `
                    <div class="song-index">${index + 1}</div>
                    <div class="song-info-flex">
                        <div class="song-title">${song.title}</div>
                        <div class="song-artist">${song.artist}</div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // --- LOGIC PLAYER ---
        function loadSong(index) {
            currentTrackIndex = index;
            const song = playlist[index];
            
            audio.src = song.file;
            document.getElementById('np-title').innerText = song.title;
            document.getElementById('np-artist').innerText = song.artist;
            document.getElementById('np-img').src = song.img;
            
            // Update Big Visual
            document.getElementById('big-artist').innerText = song.artist;
            bigArt.querySelector('img').src = song.img;

            renderPlaylist(); // Re-render to update 'active' class
            playSong();
        }

        function playSong() {
            audio.play();
            playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            bigArt.classList.add('playing');
        }

        function pauseSong() {
            audio.pause();
            playBtn.innerHTML = '<i class="fas fa-play"></i>';
            bigArt.classList.remove('playing');
        }

        function togglePlay() {
            if (audio.paused) playSong();
            else pauseSong();
        }

        function prevTrack() {
            currentTrackIndex--;
            if (currentTrackIndex < 0) currentTrackIndex = playlist.length - 1;
            loadSong(currentTrackIndex);
        }

        function nextTrack() {
            currentTrackIndex++;
            if (currentTrackIndex > playlist.length - 1) currentTrackIndex = 0;
            loadSong(currentTrackIndex);
        }

        // --- PROGRESS BAR UPDATE ---
        audio.addEventListener('timeupdate', (e) => {
            const { duration, currentTime } = e.srcElement;
            const progressPercent = (currentTime / duration) * 100;
            progressFill.style.width = `${progressPercent}%`;

            // Format Time
            const min = Math.floor(currentTime / 60);
            const sec = Math.floor(currentTime % 60);
            currTimeEl.innerText = `${min}:${sec < 10 ? '0' + sec : sec}`;
            
            if(duration) {
                const dMin = Math.floor(duration / 60);
                const dSec = Math.floor(duration % 60);
                durTimeEl.innerText = `${dMin}:${dSec < 10 ? '0' + dSec : dSec}`;
            }
        });

        // Click on Progress Bar
        progressBar.addEventListener('click', (e) => {
            const width = progressBar.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        });

        // Auto Next
        audio.addEventListener('ended', nextTrack);

        // Start
        renderPlaylist();
    </script>
</body>
</html>
