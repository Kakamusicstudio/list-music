<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Scanner Aura & Ramalan Bintang</title>
    <style>
        :root {
            --primary: #00f7ff; /* Cyan futuristik */
            --secondary: #d400ff; /* Ungu mistis */
            --bg-glass: rgba(10, 10, 20, 0.85);
            --text-glow: 0 0 10px var(--primary);
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
        }

        /* Video Background */
        #video-feed {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            transform: scaleX(-1); /* Efek cermin */
            filter: contrast(1.1) brightness(0.9) grayscale(0.3);
        }

        /* Scan Overlay (Efek Garis Hijap Biru di video) */
        #scan-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
            display: none;
        }

        /* Container Utama UI */
        #ui-container {
            position: relative;
            z-index: 10;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        /* Halaman / Layar */
        .screen {
            display: none;
            width: 100%;
            max-width: 400px;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 0.5s ease-out;
        }

        .screen.active {
            display: flex;
        }

        /* Typography */
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        p {
            font-size: 1rem;
            color: #ccc;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        /* Tombol */
        .btn-magic {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            text-transform: uppercase;
            font-weight: bold;
            box-shadow: 0 0 15px rgba(0, 247, 255, 0.3);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .btn-magic:active {
            background: var(--primary);
            color: #000;
            box-shadow: 0 0 30px rgba(0, 247, 255, 0.6);
        }

        /* --- ELEMEN SCANNING --- */
        .face-frame {
            width: 250px;
            height: 320px;
            border: 2px solid rgba(0, 247, 255, 0.3);
            position: relative;
            margin-bottom: 20px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 247, 255, 0.1);
        }

        /* Sudut-sudut frame */
        .face-frame::before, .face-frame::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            border-color: var(--primary);
            border-style: solid;
            transition: all 0.5s;
        }

        .face-frame::before { top: 0; left: 0; border-width: 4px 0 0 4px; border-radius: 10px 0 0 0; }
        .face-frame::after { bottom: 0; right: 0; border-width: 0 4px 4px 0; border-radius: 0 0 10px 0; }

        .face-frame-corner-bottom-left {
            position: absolute; bottom: 0; left: 0; width: 30px; height: 30px;
            border-color: var(--primary); border-style: solid; border-width: 0 0 4px 4px; border-radius: 0 0 0 10px;
        }
        .face-frame-corner-top-right {
            position: absolute; top: 0; right: 0; width: 30px; height: 30px;
            border-color: var(--primary); border-style: solid; border-width: 4px 4px 0 0; border-radius: 0 10px 0 0;
        }

        /* Garis Scan Laser */
        .scan-line {
            width: 100%;
            height: 2px;
            background: var(--primary);
            box-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary);
            position: absolute;
            top: 0;
            left: 0;
            animation: scanMove 2s infinite linear;
            z-index: 2;
        }

        .scan-text {
            color: var(--primary);
            font-family: 'Courier New', monospace;
            margin-top: 10px;
            font-size: 0.9rem;
            min-height: 20px;
            text-shadow: 0 0 5px var(--primary);
        }

        /* --- HASIL RAMALAN --- */
        .result-card {
            background: var(--bg-glass);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            text-align: center;
            box-shadow: 0 0 40px rgba(0,0,0,0.5);
            transform: scale(0.9);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .result-card.show {
            transform: scale(1);
            opacity: 1;
        }

        .zodiac-icon {
            font-size: 4rem;
            margin: 10px 0;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            display: inline-block;
            animation: float 3s infinite ease-in-out;
        }

        .zodiac-name {
            font-size: 1.8rem;
            color: var(--secondary);
            font-weight: bold;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .fortune-text {
            font-size: 1rem;
            color: #eee;
            font-style: italic;
            margin: 20px 0;
            line-height: 1.6;
            border-left: 2px solid var(--primary);
            padding-left: 15px;
            text-align: left;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
            text-align: center;
        }

        .stat-box {
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 10px;
        }

        .stat-label { font-size: 0.7rem; color: #888; text-transform: uppercase; }
        .stat-value { font-size: 1.2rem; color: var(--primary); font-weight: bold; }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scanMove { 0% { top: 0%; opacity: 0; } 10% { opacity: 1; } 90% { opacity: 1; } 100% { top: 100%; opacity: 0; } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

    </style>
</head>
<body>

    <!-- 1. Video Kamera -->
    <video id="video-feed" autoplay playsinline muted></video>
    
    <!-- 2. Overlay Efek TV/Sarang Tawon -->
    <div id="scan-overlay"></div>

    <div id="ui-container">
        
        <!-- LAYAR 1: Intro -->
        <div id="screen-intro" class="screen active">
            <h1>Aura Scanner</h1>
            <p>Kami menggunakan teknologi kamera canggih untuk mendeteksi aura wajah Anda dan mencocokkannya dengan energi bintang.</p>
            <button class="btn-magic" onclick="startScanning()">Mulai Scan Wajah</button>
        </div>

        <!-- LAYAR 2: Sedang Scan -->
        <div id="screen-scanning" class="screen">
            <div class="face-frame">
                <div class="face-frame-corner-top-right"></div>
                <div class="face-frame-corner-bottom-left"></div>
                <div class="scan-line"></div>
            </div>
            <h2 id="scan-status">Mendeteksi Wajah...</h2>
            <div class="scan-text" id="scan-log">Inisialisasi kamera...</div>
        </div>

        <!-- LAYAR 3: Hasil Ramalan -->
        <div id="screen-result" class="screen">
            <div class="result-card" id="result-card-el">
                <div class="zodiac-icon" id="res-icon">♌</div>
                <div class="zodiac-name" id="res-name">Leo</div>
                <p style="color:var(--primary); font-size:0.8rem; margin:0;">ENERGI HARI INI</p>
                
                <div class="fortune-text" id="res-fortune">
                    "Hari ini adalah hari keberuntunganmu. Jangan ragu untuk mengambil keputusan besar."
                </div>

                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-label">Angka Hoki</div>
                        <div class="stat-value" id="res-num">8</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Warna Aura</div>
                        <div class="stat-value" id="res-color">Emas</div>
                    </div>
                </div>
                
                <button class="btn-magic" style="margin-top: 25px; font-size: 0.9rem; padding: 10px 30px;" onclick="resetApp()">Scan Ulang</button>
            </div>
        </div>

    </div>

    <script>
        // --- Data Ramalan ---
        const zodiacs = [
            { name: "Aries", icon: "♈", color: "Merah", num: 9 },
            { name: "Taurus", icon: "♉", color: "Hijau", num: 6 },
            { name: "Gemini", icon: "♊", color: "Kuning", num: 5 },
            { name: "Cancer", icon: "♋", color: "Perak", num: 2 },
            { name: "Leo", icon: "♌", color: "Emas", num: 1 },
            { name: "Virgo", icon: "♍", color: "Coklat", num: 4 },
            { name: "Libra", icon: "♎", color: "Pink", num: 7 },
            { name: "Scorpio", icon: "♏", color: "Hitam", num: 8 },
            { name: "Sagittarius", icon: "♐", color: "Ungu", num: 3 },
            { name: "Capricorn", icon: "♑", color: "Biru Tua", num: 10 },
            { name: "Aquarius", icon: "♒", color: "Biru Muda", num: 11 },
            { name: "Pisces", icon: "♓", color: "Laut", num: 12 }
        ];

        const fortunes = [
            "Aura Anda bersinar terang hari ini. Banyak orang tertarik pada pesona alami Anda.",
            "Hindari overthinking. Keputusan yang Anda ambil dengan hati akan membawa hasil terbaik.",
            "Seseorang dari masa lalu mungkin menghubungi Anda. Bersiaplah untuk kejutan manis.",
            "Energimu sedang rendah, istirahatlah sejenak dan minum air putih yang cukup.",
            "Ada peluang finansial yang menghampiri, tapi perlu kecermatan untuk melihatnya.",
            "Hubungan asmara kamu sedang di ujung tanduk. Komunikasi adalah kuncinya.",
            "Ini adalah waktu yang tepat untuk memulai proyek baru yang selama kamu impikan.",
            "Jangan terlalu keras pada diri sendiri. Kamu sudah melakukan yang terbaik.",
            "Keberuntungan ada di pihakmu dalam hal karir. Tunjukkan kemampuanmu!",
            "Hati-hati dengan orang yang baru kamu kenal. Intuisimu tidak pernah salah."
        ];

        // --- Variabel Logika ---
        let cameraStream = null;
        const statusMessages = [
            "Mendeteksi kontur wajah...",
            "Menganalisis simetri mata...",
            "Mengukur energi aurik...",
            "Mencocokkan dengan database galaksi...",
            "Menghitung resonansi bintang..."
        ];

        // --- Fungsi Kamera ---
        async function initCamera() {
            const video = document.getElementById('video-feed');
            try {
                // Meminta akses kamera depan
                cameraStream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "user", width: { ideal: 640 }, height: { ideal: 480 } } 
                });
                video.srcObject = cameraStream;
            } catch (err) {
                console.error("Error kamera:", err);
                alert("Gagal mengakses kamera. Pastikan Anda memberikan izin.");
            }
        }

        // --- Flow Aplikasi ---
        function startScanning() {
            // 1. Ganti Layar
            document.getElementById('screen-intro').classList.remove('active');
            document.getElementById('screen-scanning').classList.add('active');
            document.getElementById('scan-overlay').style.display = 'block';

            // 2. Mulai Kamera
            initCamera();

            // 3. Jalankan Simulasi Scanning
            let msgIndex = 0;
            const logEl = document.getElementById('scan-log');
            
            // Interval untuk mengganti teks status
            const msgInterval = setInterval(() => {
                if(msgIndex < statusMessages.length) {
                    logEl.innerText = statusMessages[msgIndex];
                    msgIndex++;
                }
            }, 800);

            // Durasi scan total (4 detik)
            setTimeout(() => {
                clearInterval(msgInterval);
                showResult();
            }, 4000);
        }

        function showResult() {
            // 1. Pilih Data Acak
            const randomZodiac = zodiacs[Math.floor(Math.random() * zodiacs.length)];
            const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
            
            // 2. Isi Data ke HTML
            document.getElementById('res-icon').innerText = randomZodiac.icon;
            document.getElementById('res-name').innerText = randomZodiac.name;
            document.getElementById('res-fortune').innerText = `"${randomFortune}"`;
            document.getElementById('res-num').innerText = randomZodiac.num;
            document.getElementById('res-color').innerText = randomZodiac.color;
            document.getElementById('res-color').style.color = getRandomColor(); // Warnai teks warna random

            // 3. Pindah Layar
            document.getElementById('screen-scanning').classList.remove('active');
            document.getElementById('scan-overlay').style.display = 'none'; // Matikan overlay scan
            
            const resultScreen = document.getElementById('screen-result');
            resultScreen.classList.add('active');
            
            // Animasi pop-up kartu
            setTimeout(() => {
                document.getElementById('result-card-el').classList.add('show');
            }, 100);
        }

        function resetApp() {
            // Reset tampilan ke awal
            document.getElementById('screen-result').classList.remove('active');
            document.getElementById('result-card-el').classList.remove('show');
            document.getElementById('screen-intro').classList.add('active');
            
            // Matikan kamera untuk hemat baterai (opsional)
            if (cameraStream) {
                cameraStream.getTracks().forEach(track => track.stop());
            }
        }

        // Helper: Random Color Hex
        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
    </script>
</body>
</html>
